<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Iniciar Sesión | Ruanas Maru-Lana</title>

    <link rel="stylesheet" href="css/navbar.css">
    <link rel="stylesheet" href="css/login.css">
    <link rel="stylesheet" href="css/footer.css">

    <style>
        /* OJO: puedes mover esto a login.css */

        .password-wrapper {
            position: relative;
            display: flex;
            align-items: center;
        }

        .password-wrapper input {
            width: 100%;
        }

        .password-toggle {
            position: absolute;
            right: 12px;
            cursor: pointer;
            width: 22px;
            height: 22px;
            fill: #555;
        }
    </style>
</head>
<body>

<header>
  <nav class="navbar">
    <a href="index.html" class="logo">Ruanas Maru Lana</a>

    <button id="menu-toggle" class="menu-toggle">
        <span class="bar"></span>
        <span class="bar"></span>
        <span class="bar"></span>
    </button>

    <ul class="menu" id="main-menu" role="menu">
      <li role="none"><a role="menuitem" href="index.html">Inicio</a></li>
      <li role="none"><a role="menuitem" href="productos.html">Productos</a></li>
      <li role="none"><a role="menuitem" href="carrito.html">Carrito</a></li>
      <li role="none" id="nav-login"><a role="menuitem" href="login.html">Iniciar Sesión</a></li>
      <li role="none" id="nav-registro"><a role="menuitem" href="registro.html">Registro</a></li>
      <li role="none" id="nav-perfil" style="display:none;"><a role="menuitem" href="perfil.html">Perfil</a></li>
      <li role="none" id="nav-logout" style="display:none;"><a role="menuitem" href="#" id="logout-link">Cerrar Sesión</a></li>
    </ul>
  </nav>
</header>

<div class="navbar-toggle" id="navbar-toggle">
    <span></span>
    <span></span>
    <span></span>
</div>

<main class="login-page-main">
    <div class="login-container">
        <h2>Iniciar Sesión</h2>

        <form id="loginForm" class="login-form">

            <label for="email">Email:</label>
            <input type="email" id="email" name="email" required>

            <label for="password">Contraseña:</label>

            <!-- Campo de contraseña con ojo -->
            <div class="password-wrapper">
                <input type="password" id="password" name="password" required>

                <!-- Icono de OJO (SVG) -->
                <svg id="togglePassword" class="password-toggle" viewBox="0 0 24 24">
                    <path d="M12 5C5 5 1 12 1 12s4 7 11 7 11-7 11-7-4-7-11-7zm0 12a5 
                    5 0 1 1 0-10 5 5 0 0 1 0 10z"/>
                </svg>
            </div>

            <div id="error-mensaje" class="error-mensaje"></div>

            <button type="submit">Iniciar Sesión</button>
        </form>

        <p class="registro">¿No tienes cuenta? <a href="registro.html">Regístrate</a></p>
    </div>
</main>

<div id="footer-container"></div>

<script src="scripts/footer.js"></script>
<script src="scripts/utils.js"></script>
<script src="scripts/login.js"></script>
<script src="scripts/navbar-ui.js"></script>

<script>
    // Mostrar/ocultar contraseña
    const togglePassword = document.getElementById("togglePassword");
    const passwordInput = document.getElementById("password");

    togglePassword.addEventListener("click", () => {
        const esPassword = passwordInput.type === "password";
        passwordInput.type = esPassword ? "text" : "password";

        // Cambiar icono entre ojo y ojo tachado
        togglePassword.innerHTML = esPassword
            ? `<path d="M1 1l22 22M12 5c7 0 11 7 11 7a21 21 0 0 1-3.29 4.56m-3.67 2.63A10 10 0 0 1 12 19c-7 0-11-7-11-7a21 21 0 0 1 3.1-4.4M9.88 9.88A3 3 0 0 1 14.12 14.12"/>`
            : `<path d="M12 5C5 5 1 12 1 12s4 7 11 7 11-7 11-7-4-7-11-7zm0 12a5 5 0 1 1 0-10 5 5 0 0 1 0 10z"/>`;
    });
</script>

</body>
</html>
